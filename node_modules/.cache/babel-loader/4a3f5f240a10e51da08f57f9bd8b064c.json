{"ast":null,"code":"'use strict';\n\nvar Buffer = require('safe-buffer').Buffer;\n\nvar optimized = require('./optimized');\n\nfunction BN() {\n  this.negative = 0;\n  this.words = null;\n  this.length = 0;\n}\n\nBN.fromNumber = function (n) {\n  var bn = new BN();\n  bn.words = [n & 0x03ffffff];\n  bn.length = 1;\n  return bn;\n};\n\nBN.fromBuffer = function (b32) {\n  var bn = new BN();\n  bn.words = new Array(10);\n  bn.words[0] = (b32[28] & 0x03) << 24 | b32[29] << 16 | b32[30] << 8 | b32[31];\n  bn.words[1] = (b32[25] & 0x0F) << 22 | b32[26] << 14 | b32[27] << 6 | b32[28] >>> 2;\n  bn.words[2] = (b32[22] & 0x3F) << 20 | b32[23] << 12 | b32[24] << 4 | b32[25] >>> 4;\n  bn.words[3] = (b32[19] & 0xFF) << 18 | b32[20] << 10 | b32[21] << 2 | b32[22] >>> 6;\n  bn.words[4] = (b32[15] & 0x03) << 24 | b32[16] << 16 | b32[17] << 8 | b32[18];\n  bn.words[5] = (b32[12] & 0x0F) << 22 | b32[13] << 14 | b32[14] << 6 | b32[15] >>> 2;\n  bn.words[6] = (b32[9] & 0x3F) << 20 | b32[10] << 12 | b32[11] << 4 | b32[12] >>> 4;\n  bn.words[7] = (b32[6] & 0xFF) << 18 | b32[7] << 10 | b32[8] << 2 | b32[9] >>> 6;\n  bn.words[8] = (b32[2] & 0x03) << 24 | b32[3] << 16 | b32[4] << 8 | b32[5];\n  bn.words[9] = b32[0] << 14 | b32[1] << 6 | b32[2] >>> 2;\n  bn.length = 10;\n  return bn.strip();\n};\n\nBN.prototype.toBuffer = function () {\n  var w = this.words;\n\n  for (var i = this.length; i < 10; ++i) {\n    w[i] = 0;\n  }\n\n  return Buffer.from([w[9] >>> 14 & 0xFF, w[9] >>> 6 & 0xFF, (w[9] & 0x3F) << 2 | w[8] >>> 24 & 0x03, // 0, 1, 2\n  w[8] >>> 16 & 0xFF, w[8] >>> 8 & 0xFF, w[8] & 0xFF, // 3, 4, 5\n  w[7] >>> 18 & 0xFF, w[7] >>> 10 & 0xFF, w[7] >>> 2 & 0xFF, // 6, 7, 8\n  (w[7] & 0x03) << 6 | w[6] >>> 20 & 0x3F, w[6] >>> 12 & 0xFF, w[6] >>> 4 & 0xFF, // 9, 10, 11\n  (w[6] & 0x0F) << 4 | w[5] >>> 22 & 0x0F, w[5] >>> 14 & 0xFF, w[5] >>> 6 & 0xFF, // 12, 13, 14\n  (w[5] & 0x3F) << 2 | w[4] >>> 24 & 0x03, w[4] >>> 16 & 0xFF, w[4] >>> 8 & 0xFF, w[4] & 0xFF, // 15, 16, 17, 18\n  w[3] >>> 18 & 0xFF, w[3] >>> 10 & 0xFF, w[3] >>> 2 & 0xFF, // 19, 20, 21\n  (w[3] & 0x03) << 6 | w[2] >>> 20 & 0x3F, w[2] >>> 12 & 0xFF, w[2] >>> 4 & 0xFF, // 22, 23, 24\n  (w[2] & 0x0F) << 4 | w[1] >>> 22 & 0x0F, w[1] >>> 14 & 0xFF, w[1] >>> 6 & 0xFF, // 25, 26, 27\n  (w[1] & 0x3F) << 2 | w[0] >>> 24 & 0x03, w[0] >>> 16 & 0xFF, w[0] >>> 8 & 0xFF, w[0] & 0xFF // 28, 29, 30, 31\n  ]);\n};\n\nBN.prototype.clone = function () {\n  var r = new BN();\n  r.words = new Array(this.length);\n\n  for (var i = 0; i < this.length; i++) {\n    r.words[i] = this.words[i];\n  }\n\n  r.length = this.length;\n  r.negative = this.negative;\n  return r;\n};\n\nBN.prototype.strip = function () {\n  while (this.length > 1 && (this.words[this.length - 1] | 0) === 0) {\n    this.length--;\n  }\n\n  return this;\n};\n\nBN.prototype.normSign = function () {\n  // -0 = 0\n  if (this.length === 1 && this.words[0] === 0) this.negative = 0;\n  return this;\n};\n\nBN.prototype.isEven = function () {\n  return (this.words[0] & 1) === 0;\n};\n\nBN.prototype.isOdd = function () {\n  return (this.words[0] & 1) === 1;\n};\n\nBN.prototype.isZero = function () {\n  return this.length === 1 && this.words[0] === 0;\n};\n\nBN.prototype.ucmp = function (num) {\n  if (this.length !== num.length) return this.length > num.length ? 1 : -1;\n\n  for (var i = this.length - 1; i >= 0; --i) {\n    if (this.words[i] !== num.words[i]) return this.words[i] > num.words[i] ? 1 : -1;\n  }\n\n  return 0;\n};\n\nBN.prototype.gtOne = function () {\n  return this.length > 1 || this.words[0] > 1;\n};\n\nBN.prototype.isOverflow = function () {\n  return this.ucmp(BN.n) >= 0;\n};\n\nBN.prototype.isHigh = function () {\n  return this.ucmp(BN.nh) === 1;\n};\n\nBN.prototype.bitLengthGT256 = function () {\n  return this.length > 10 || this.length === 10 && this.words[9] > 0x003fffff;\n};\n\nBN.prototype.iuaddn = function (num) {\n  this.words[0] += num;\n\n  for (var i = 0; this.words[i] > 0x03ffffff && i < this.length; ++i) {\n    this.words[i] -= 0x04000000;\n    this.words[i + 1] += 1;\n  }\n\n  if (i === this.length) {\n    this.words[i] = 1;\n    this.length += 1;\n  }\n\n  return this;\n};\n\nBN.prototype.iadd = function (num) {\n  // (-this) + num -> -(this - num)\n  // this + (-num) -> this - num\n  if (this.negative !== num.negative) {\n    if (this.negative !== 0) {\n      this.negative = 0;\n      this.isub(num);\n      this.negative ^= 1;\n    } else {\n      num.negative = 0;\n      this.isub(num);\n      num.negative = 1;\n    }\n\n    return this.normSign();\n  } // a.length > b.length\n\n\n  var a;\n  var b;\n\n  if (this.length > num.length) {\n    a = this;\n    b = num;\n  } else {\n    a = num;\n    b = this;\n  }\n\n  for (var i = 0, carry = 0; i < b.length; ++i) {\n    var word = a.words[i] + b.words[i] + carry;\n    this.words[i] = word & 0x03ffffff;\n    carry = word >>> 26;\n  }\n\n  for (; carry !== 0 && i < a.length; ++i) {\n    word = a.words[i] + carry;\n    this.words[i] = word & 0x03ffffff;\n    carry = word >>> 26;\n  }\n\n  this.length = a.length;\n\n  if (carry !== 0) {\n    this.words[this.length++] = carry;\n  } else if (a !== this) {\n    for (; i < a.length; ++i) {\n      this.words[i] = a.words[i];\n    }\n  }\n\n  return this;\n};\n\nBN.prototype.add = function (num) {\n  return this.clone().iadd(num);\n};\n\nBN.prototype.isub = function (num) {\n  // (-this) - num -> -(this + num)\n  // this - (-num) -> this + num\n  if (this.negative !== num.negative) {\n    if (this.negative !== 0) {\n      this.negative = 0;\n      this.iadd(num);\n      this.negative = 1;\n    } else {\n      num.negative = 0;\n      this.iadd(num);\n      num.negative = 1;\n    }\n\n    return this.normSign();\n  }\n\n  var cmp = this.ucmp(num);\n\n  if (cmp === 0) {\n    this.negative = 0;\n    this.words[0] = 0;\n    this.length = 1;\n    return this;\n  } // a > b\n\n\n  var a;\n  var b;\n\n  if (cmp > 0) {\n    a = this;\n    b = num;\n  } else {\n    a = num;\n    b = this;\n  }\n\n  for (var i = 0, carry = 0; i < b.length; ++i) {\n    var word = a.words[i] - b.words[i] + carry;\n    carry = word >> 26;\n    this.words[i] = word & 0x03ffffff;\n  }\n\n  for (; carry !== 0 && i < a.length; ++i) {\n    word = a.words[i] + carry;\n    carry = word >> 26;\n    this.words[i] = word & 0x03ffffff;\n  }\n\n  if (carry === 0 && i < a.length && a !== this) {\n    for (; i < a.length; ++i) {\n      this.words[i] = a.words[i];\n    }\n  }\n\n  this.length = Math.max(this.length, i);\n  if (a !== this) this.negative ^= 1;\n  return this.strip().normSign();\n};\n\nBN.prototype.sub = function (num) {\n  return this.clone().isub(num);\n};\n\nBN.umulTo = function (num1, num2, out) {\n  out.length = num1.length + num2.length - 1;\n  var a1 = num1.words[0];\n  var b1 = num2.words[0];\n  var r1 = a1 * b1;\n  var carry = r1 / 0x04000000 | 0;\n  out.words[0] = r1 & 0x03ffffff;\n\n  for (var k = 1, maxK = out.length; k < maxK; k++) {\n    var ncarry = carry >>> 26;\n    var rword = carry & 0x03ffffff;\n\n    for (var j = Math.max(0, k - num1.length + 1), maxJ = Math.min(k, num2.length - 1); j <= maxJ; j++) {\n      var i = k - j;\n      var a = num1.words[i];\n      var b = num2.words[j];\n      var r = a * b + rword;\n      ncarry += r / 0x04000000 | 0;\n      rword = r & 0x03ffffff;\n    }\n\n    out.words[k] = rword;\n    carry = ncarry;\n  }\n\n  if (carry !== 0) out.words[out.length++] = carry;\n  return out.strip();\n};\n\nBN.umulTo10x10 = Math.imul ? optimized.umulTo10x10 : BN.umulTo;\n\nBN.umulnTo = function (num, k, out) {\n  if (k === 0) {\n    out.words = [0];\n    out.length = 1;\n    return out;\n  }\n\n  for (var i = 0, carry = 0; i < num.length; ++i) {\n    var r = num.words[i] * k + carry;\n    out.words[i] = r & 0x03ffffff;\n    carry = r / 0x04000000 | 0;\n  }\n\n  if (carry > 0) {\n    out.words[i] = carry;\n    out.length = num.length + 1;\n  } else {\n    out.length = num.length;\n  }\n\n  return out;\n};\n\nBN.prototype.umul = function (num) {\n  var out = new BN();\n  out.words = new Array(this.length + num.length);\n\n  if (this.length === 10 && num.length === 10) {\n    return BN.umulTo10x10(this, num, out);\n  } else if (this.length === 1) {\n    return BN.umulnTo(num, this.words[0], out);\n  } else if (num.length === 1) {\n    return BN.umulnTo(this, num.words[0], out);\n  } else {\n    return BN.umulTo(this, num, out);\n  }\n};\n\nBN.prototype.isplit = function (output) {\n  output.length = Math.min(this.length, 9);\n\n  for (var i = 0; i < output.length; ++i) {\n    output.words[i] = this.words[i];\n  }\n\n  if (this.length <= 9) {\n    this.words[0] = 0;\n    this.length = 1;\n    return this;\n  } // Shift by 9 limbs\n\n\n  var prev = this.words[9];\n  output.words[output.length++] = prev & 0x003fffff;\n\n  for (i = 10; i < this.length; ++i) {\n    var word = this.words[i];\n    this.words[i - 10] = (word & 0x003fffff) << 4 | prev >>> 22;\n    prev = word;\n  }\n\n  prev >>>= 22;\n  this.words[i - 10] = prev;\n\n  if (prev === 0 && this.length > 10) {\n    this.length -= 10;\n  } else {\n    this.length -= 9;\n  }\n\n  return this;\n};\n\nBN.prototype.fireduce = function () {\n  if (this.isOverflow()) this.isub(BN.n);\n  return this;\n};\n\nBN.prototype.ureduce = function () {\n  var num = this.clone().isplit(BN.tmp).umul(BN.nc).iadd(BN.tmp);\n\n  if (num.bitLengthGT256()) {\n    num = num.isplit(BN.tmp).umul(BN.nc).iadd(BN.tmp);\n    if (num.bitLengthGT256()) num = num.isplit(BN.tmp).umul(BN.nc).iadd(BN.tmp);\n  }\n\n  return num.fireduce();\n};\n\nBN.prototype.ishrn = function (n) {\n  var mask = (1 << n) - 1;\n  var m = 26 - n;\n\n  for (var i = this.length - 1, carry = 0; i >= 0; --i) {\n    var word = this.words[i];\n    this.words[i] = carry << m | word >>> n;\n    carry = word & mask;\n  }\n\n  if (this.length > 1 && this.words[this.length - 1] === 0) this.length -= 1;\n  return this;\n};\n\nBN.prototype.uinvm = function () {\n  var x = this.clone();\n  var y = BN.n.clone(); // A * x + B * y = x\n\n  var A = BN.fromNumber(1);\n  var B = BN.fromNumber(0); // C * x + D * y = y\n\n  var C = BN.fromNumber(0);\n  var D = BN.fromNumber(1);\n\n  while (x.isEven() && y.isEven()) {\n    for (var k = 1, m = 1; (x.words[0] & m) === 0 && (y.words[0] & m) === 0 && k < 26; ++k, m <<= 1) {\n      ;\n    }\n\n    x.ishrn(k);\n    y.ishrn(k);\n  }\n\n  var yp = y.clone();\n  var xp = x.clone();\n\n  while (!x.isZero()) {\n    for (var i = 0, im = 1; (x.words[0] & im) === 0 && i < 26; ++i, im <<= 1) {\n      ;\n    }\n\n    if (i > 0) {\n      x.ishrn(i);\n\n      while (i-- > 0) {\n        if (A.isOdd() || B.isOdd()) {\n          A.iadd(yp);\n          B.isub(xp);\n        }\n\n        A.ishrn(1);\n        B.ishrn(1);\n      }\n    }\n\n    for (var j = 0, jm = 1; (y.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1) {\n      ;\n    }\n\n    if (j > 0) {\n      y.ishrn(j);\n\n      while (j-- > 0) {\n        if (C.isOdd() || D.isOdd()) {\n          C.iadd(yp);\n          D.isub(xp);\n        }\n\n        C.ishrn(1);\n        D.ishrn(1);\n      }\n    }\n\n    if (x.ucmp(y) >= 0) {\n      x.isub(y);\n      A.isub(C);\n      B.isub(D);\n    } else {\n      y.isub(x);\n      C.isub(A);\n      D.isub(B);\n    }\n  }\n\n  if (C.negative === 1) {\n    C.negative = 0;\n    var result = C.ureduce();\n    result.negative ^= 1;\n    return result.normSign().iadd(BN.n);\n  } else {\n    return C.ureduce();\n  }\n};\n\nBN.prototype.imulK = function () {\n  this.words[this.length] = 0;\n  this.words[this.length + 1] = 0;\n  this.length += 2;\n\n  for (var i = 0, lo = 0; i < this.length; ++i) {\n    var w = this.words[i] | 0;\n    lo += w * 0x3d1;\n    this.words[i] = lo & 0x03ffffff;\n    lo = w * 0x40 + (lo / 0x04000000 | 0);\n  }\n\n  if (this.words[this.length - 1] === 0) {\n    this.length -= 1;\n    if (this.words[this.length - 1] === 0) this.length -= 1;\n  }\n\n  return this;\n};\n\nBN.prototype.redIReduce = function () {\n  this.isplit(BN.tmp).imulK().iadd(BN.tmp);\n  if (this.bitLengthGT256()) this.isplit(BN.tmp).imulK().iadd(BN.tmp);\n  var cmp = this.ucmp(BN.p);\n\n  if (cmp === 0) {\n    this.words[0] = 0;\n    this.length = 1;\n  } else if (cmp > 0) {\n    this.isub(BN.p);\n  } else {\n    this.strip();\n  }\n\n  return this;\n};\n\nBN.prototype.redNeg = function () {\n  if (this.isZero()) return BN.fromNumber(0);\n  return BN.p.sub(this);\n};\n\nBN.prototype.redAdd = function (num) {\n  return this.clone().redIAdd(num);\n};\n\nBN.prototype.redIAdd = function (num) {\n  this.iadd(num);\n  if (this.ucmp(BN.p) >= 0) this.isub(BN.p);\n  return this;\n};\n\nBN.prototype.redIAdd7 = function () {\n  this.iuaddn(7);\n  if (this.ucmp(BN.p) >= 0) this.isub(BN.p);\n  return this;\n};\n\nBN.prototype.redSub = function (num) {\n  return this.clone().redISub(num);\n};\n\nBN.prototype.redISub = function (num) {\n  this.isub(num);\n  if (this.negative !== 0) this.iadd(BN.p);\n  return this;\n};\n\nBN.prototype.redMul = function (num) {\n  return this.umul(num).redIReduce();\n};\n\nBN.prototype.redSqr = function () {\n  return this.umul(this).redIReduce();\n};\n\nBN.prototype.redSqrt = function () {\n  if (this.isZero()) return this.clone();\n  var wv2 = this.redSqr();\n  var wv4 = wv2.redSqr();\n  var wv12 = wv4.redSqr().redMul(wv4);\n  var wv14 = wv12.redMul(wv2);\n  var wv15 = wv14.redMul(this);\n  var out = wv15;\n\n  for (var i = 0; i < 54; ++i) {\n    out = out.redSqr().redSqr().redSqr().redSqr().redMul(wv15);\n  }\n\n  out = out.redSqr().redSqr().redSqr().redSqr().redMul(wv14);\n\n  for (i = 0; i < 5; ++i) {\n    out = out.redSqr().redSqr().redSqr().redSqr().redMul(wv15);\n  }\n\n  out = out.redSqr().redSqr().redSqr().redSqr().redMul(wv12);\n  out = out.redSqr().redSqr().redSqr().redSqr().redSqr().redSqr().redMul(wv12);\n\n  if (out.redSqr().ucmp(this) === 0) {\n    return out;\n  } else {\n    return null;\n  }\n};\n\nBN.prototype.redInvm = function () {\n  var a = this.clone();\n  var b = BN.p.clone();\n  var x1 = BN.fromNumber(1);\n  var x2 = BN.fromNumber(0);\n\n  while (a.gtOne() && b.gtOne()) {\n    for (var i = 0, im = 1; (a.words[0] & im) === 0 && i < 26; ++i, im <<= 1) {\n      ;\n    }\n\n    if (i > 0) {\n      a.ishrn(i);\n\n      while (i-- > 0) {\n        if (x1.isOdd()) x1.iadd(BN.p);\n        x1.ishrn(1);\n      }\n    }\n\n    for (var j = 0, jm = 1; (b.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1) {\n      ;\n    }\n\n    if (j > 0) {\n      b.ishrn(j);\n\n      while (j-- > 0) {\n        if (x2.isOdd()) x2.iadd(BN.p);\n        x2.ishrn(1);\n      }\n    }\n\n    if (a.ucmp(b) >= 0) {\n      a.isub(b);\n      x1.isub(x2);\n    } else {\n      b.isub(a);\n      x2.isub(x1);\n    }\n  }\n\n  var res;\n\n  if (a.length === 1 && a.words[0] === 1) {\n    res = x1;\n  } else {\n    res = x2;\n  }\n\n  if (res.negative !== 0) res.iadd(BN.p);\n\n  if (res.negative !== 0) {\n    res.negative = 0;\n    return res.redIReduce().redNeg();\n  } else {\n    return res.redIReduce();\n  }\n};\n\nBN.prototype.getNAF = function (w) {\n  var naf = [];\n  var ws = 1 << w + 1;\n  var wsm1 = ws - 1;\n  var ws2 = ws >> 1;\n  var k = this.clone();\n\n  while (!k.isZero()) {\n    for (var i = 0, m = 1; (k.words[0] & m) === 0 && i < 26; ++i, m <<= 1) {\n      naf.push(0);\n    }\n\n    if (i !== 0) {\n      k.ishrn(i);\n    } else {\n      var mod = k.words[0] & wsm1;\n\n      if (mod >= ws2) {\n        naf.push(ws2 - mod);\n        k.iuaddn(mod - ws2).ishrn(1);\n      } else {\n        naf.push(mod);\n        k.words[0] -= mod;\n\n        if (!k.isZero()) {\n          for (i = w - 1; i > 0; --i) {\n            naf.push(0);\n          }\n\n          k.ishrn(w);\n        }\n      }\n    }\n  }\n\n  return naf;\n};\n\nBN.prototype.inspect = function () {\n  if (this.isZero()) return '0';\n  var buffer = this.toBuffer().toString('hex');\n\n  for (var i = 0; buffer[i] === '0'; ++i) {\n    ;\n  }\n\n  return buffer.slice(i);\n};\n\nBN.n = BN.fromBuffer(Buffer.from('FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141', 'hex'));\nBN.nh = BN.n.clone().ishrn(1);\nBN.nc = BN.fromBuffer(Buffer.from('000000000000000000000000000000014551231950B75FC4402DA1732FC9BEBF', 'hex'));\nBN.p = BN.fromBuffer(Buffer.from('FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F', 'hex'));\nBN.psn = BN.p.sub(BN.n);\nBN.tmp = new BN();\nBN.tmp.words = new Array(10) // WTF?! it speed-up benchmark on ~20%\n;\n\n(function () {\n  var x = BN.fromNumber(1);\n  x.words[3] = 0;\n})();\n\nmodule.exports = BN;","map":{"version":3,"sources":["C:/Users/anshm/blockdrive/node_modules/libp2p-crypto-secp256k1/node_modules/secp256k1/lib/js/bn/index.js"],"names":["Buffer","require","optimized","BN","negative","words","length","fromNumber","n","bn","fromBuffer","b32","Array","strip","prototype","toBuffer","w","i","from","clone","r","normSign","isEven","isOdd","isZero","ucmp","num","gtOne","isOverflow","isHigh","nh","bitLengthGT256","iuaddn","iadd","isub","a","b","carry","word","add","cmp","Math","max","sub","umulTo","num1","num2","out","a1","b1","r1","k","maxK","ncarry","rword","j","maxJ","min","umulTo10x10","imul","umulnTo","umul","isplit","output","prev","fireduce","ureduce","tmp","nc","ishrn","mask","m","uinvm","x","y","A","B","C","D","yp","xp","im","jm","result","imulK","lo","redIReduce","p","redNeg","redAdd","redIAdd","redIAdd7","redSub","redISub","redMul","redSqr","redSqrt","wv2","wv4","wv12","wv14","wv15","redInvm","x1","x2","res","getNAF","naf","ws","wsm1","ws2","push","mod","inspect","buffer","toString","slice","psn","module","exports"],"mappings":"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","sourcesContent":["'use strict'\nvar Buffer = require('safe-buffer').Buffer\nvar optimized = require('./optimized')\n\nfunction BN () {\n  this.negative = 0\n  this.words = null\n  this.length = 0\n}\n\nBN.fromNumber = function (n) {\n  var bn = new BN()\n  bn.words = [n & 0x03ffffff]\n  bn.length = 1\n  return bn\n}\n\nBN.fromBuffer = function (b32) {\n  var bn = new BN()\n\n  bn.words = new Array(10)\n  bn.words[0] = (b32[28] & 0x03) << 24 | b32[29] << 16 | b32[30] << 8 | b32[31]\n  bn.words[1] = (b32[25] & 0x0F) << 22 | b32[26] << 14 | b32[27] << 6 | b32[28] >>> 2\n  bn.words[2] = (b32[22] & 0x3F) << 20 | b32[23] << 12 | b32[24] << 4 | b32[25] >>> 4\n  bn.words[3] = (b32[19] & 0xFF) << 18 | b32[20] << 10 | b32[21] << 2 | b32[22] >>> 6\n\n  bn.words[4] = (b32[15] & 0x03) << 24 | b32[16] << 16 | b32[17] << 8 | b32[18]\n  bn.words[5] = (b32[12] & 0x0F) << 22 | b32[13] << 14 | b32[14] << 6 | b32[15] >>> 2\n  bn.words[6] = (b32[9] & 0x3F) << 20 | b32[10] << 12 | b32[11] << 4 | b32[12] >>> 4\n  bn.words[7] = (b32[6] & 0xFF) << 18 | b32[7] << 10 | b32[8] << 2 | b32[9] >>> 6\n\n  bn.words[8] = (b32[2] & 0x03) << 24 | b32[3] << 16 | b32[4] << 8 | b32[5]\n  bn.words[9] = b32[0] << 14 | b32[1] << 6 | b32[2] >>> 2\n\n  bn.length = 10\n  return bn.strip()\n}\n\nBN.prototype.toBuffer = function () {\n  var w = this.words\n  for (var i = this.length; i < 10; ++i) w[i] = 0\n\n  return Buffer.from([\n    (w[9] >>> 14) & 0xFF, (w[9] >>> 6) & 0xFF, (w[9] & 0x3F) << 2 | ((w[8] >>> 24) & 0x03), // 0, 1, 2\n    (w[8] >>> 16) & 0xFF, (w[8] >>> 8) & 0xFF, w[8] & 0xFF, // 3, 4, 5\n\n    (w[7] >>> 18) & 0xFF, (w[7] >>> 10) & 0xFF, (w[7] >>> 2) & 0xFF, // 6, 7, 8\n    ((w[7] & 0x03) << 6) | ((w[6] >>> 20) & 0x3F), (w[6] >>> 12) & 0xFF, (w[6] >>> 4) & 0xFF, // 9, 10, 11\n    ((w[6] & 0x0F) << 4) | ((w[5] >>> 22) & 0x0F), (w[5] >>> 14) & 0xFF, (w[5] >>> 6) & 0xFF, // 12, 13, 14\n    ((w[5] & 0x3F) << 2) | ((w[4] >>> 24) & 0x03), (w[4] >>> 16) & 0xFF, (w[4] >>> 8) & 0xFF, w[4] & 0xFF, // 15, 16, 17, 18\n\n    (w[3] >>> 18) & 0xFF, (w[3] >>> 10) & 0xFF, (w[3] >>> 2) & 0xFF, // 19, 20, 21\n    ((w[3] & 0x03) << 6) | ((w[2] >>> 20) & 0x3F), (w[2] >>> 12) & 0xFF, (w[2] >>> 4) & 0xFF, // 22, 23, 24\n    ((w[2] & 0x0F) << 4) | ((w[1] >>> 22) & 0x0F), (w[1] >>> 14) & 0xFF, (w[1] >>> 6) & 0xFF, // 25, 26, 27\n    ((w[1] & 0x3F) << 2) | ((w[0] >>> 24) & 0x03), (w[0] >>> 16) & 0xFF, (w[0] >>> 8) & 0xFF, w[0] & 0xFF // 28, 29, 30, 31\n  ])\n}\n\nBN.prototype.clone = function () {\n  var r = new BN()\n  r.words = new Array(this.length)\n  for (var i = 0; i < this.length; i++) r.words[i] = this.words[i]\n  r.length = this.length\n  r.negative = this.negative\n  return r\n}\n\nBN.prototype.strip = function () {\n  while (this.length > 1 && (this.words[this.length - 1] | 0) === 0) this.length--\n  return this\n}\n\nBN.prototype.normSign = function () {\n  // -0 = 0\n  if (this.length === 1 && this.words[0] === 0) this.negative = 0\n  return this\n}\n\nBN.prototype.isEven = function () {\n  return (this.words[0] & 1) === 0\n}\n\nBN.prototype.isOdd = function () {\n  return (this.words[0] & 1) === 1\n}\n\nBN.prototype.isZero = function () {\n  return this.length === 1 && this.words[0] === 0\n}\n\nBN.prototype.ucmp = function (num) {\n  if (this.length !== num.length) return this.length > num.length ? 1 : -1\n\n  for (var i = this.length - 1; i >= 0; --i) {\n    if (this.words[i] !== num.words[i]) return this.words[i] > num.words[i] ? 1 : -1\n  }\n\n  return 0\n}\n\nBN.prototype.gtOne = function () {\n  return this.length > 1 || this.words[0] > 1\n}\n\nBN.prototype.isOverflow = function () {\n  return this.ucmp(BN.n) >= 0\n}\n\nBN.prototype.isHigh = function () {\n  return this.ucmp(BN.nh) === 1\n}\n\nBN.prototype.bitLengthGT256 = function () {\n  return this.length > 10 || (this.length === 10 && this.words[9] > 0x003fffff)\n}\n\nBN.prototype.iuaddn = function (num) {\n  this.words[0] += num\n\n  for (var i = 0; this.words[i] > 0x03ffffff && i < this.length; ++i) {\n    this.words[i] -= 0x04000000\n    this.words[i + 1] += 1\n  }\n\n  if (i === this.length) {\n    this.words[i] = 1\n    this.length += 1\n  }\n\n  return this\n}\n\nBN.prototype.iadd = function (num) {\n  // (-this) + num -> -(this - num)\n  // this + (-num) -> this - num\n  if (this.negative !== num.negative) {\n    if (this.negative !== 0) {\n      this.negative = 0\n      this.isub(num)\n      this.negative ^= 1\n    } else {\n      num.negative = 0\n      this.isub(num)\n      num.negative = 1\n    }\n\n    return this.normSign()\n  }\n\n  // a.length > b.length\n  var a\n  var b\n  if (this.length > num.length) {\n    a = this\n    b = num\n  } else {\n    a = num\n    b = this\n  }\n\n  for (var i = 0, carry = 0; i < b.length; ++i) {\n    var word = a.words[i] + b.words[i] + carry\n    this.words[i] = word & 0x03ffffff\n    carry = word >>> 26\n  }\n\n  for (; carry !== 0 && i < a.length; ++i) {\n    word = a.words[i] + carry\n    this.words[i] = word & 0x03ffffff\n    carry = word >>> 26\n  }\n\n  this.length = a.length\n  if (carry !== 0) {\n    this.words[this.length++] = carry\n  } else if (a !== this) {\n    for (; i < a.length; ++i) {\n      this.words[i] = a.words[i]\n    }\n  }\n\n  return this\n}\n\nBN.prototype.add = function (num) {\n  return this.clone().iadd(num)\n}\n\nBN.prototype.isub = function (num) {\n  // (-this) - num -> -(this + num)\n  // this - (-num) -> this + num\n  if (this.negative !== num.negative) {\n    if (this.negative !== 0) {\n      this.negative = 0\n      this.iadd(num)\n      this.negative = 1\n    } else {\n      num.negative = 0\n      this.iadd(num)\n      num.negative = 1\n    }\n\n    return this.normSign()\n  }\n\n  var cmp = this.ucmp(num)\n  if (cmp === 0) {\n    this.negative = 0\n    this.words[0] = 0\n    this.length = 1\n    return this\n  }\n\n  // a > b\n  var a\n  var b\n  if (cmp > 0) {\n    a = this\n    b = num\n  } else {\n    a = num\n    b = this\n  }\n\n  for (var i = 0, carry = 0; i < b.length; ++i) {\n    var word = a.words[i] - b.words[i] + carry\n    carry = word >> 26\n    this.words[i] = word & 0x03ffffff\n  }\n\n  for (; carry !== 0 && i < a.length; ++i) {\n    word = a.words[i] + carry\n    carry = word >> 26\n    this.words[i] = word & 0x03ffffff\n  }\n\n  if (carry === 0 && i < a.length && a !== this) {\n    for (; i < a.length; ++i) this.words[i] = a.words[i]\n  }\n\n  this.length = Math.max(this.length, i)\n\n  if (a !== this) this.negative ^= 1\n\n  return this.strip().normSign()\n}\n\nBN.prototype.sub = function (num) {\n  return this.clone().isub(num)\n}\n\nBN.umulTo = function (num1, num2, out) {\n  out.length = num1.length + num2.length - 1\n\n  var a1 = num1.words[0]\n  var b1 = num2.words[0]\n  var r1 = a1 * b1\n\n  var carry = (r1 / 0x04000000) | 0\n  out.words[0] = r1 & 0x03ffffff\n\n  for (var k = 1, maxK = out.length; k < maxK; k++) {\n    var ncarry = carry >>> 26\n    var rword = carry & 0x03ffffff\n    for (var j = Math.max(0, k - num1.length + 1), maxJ = Math.min(k, num2.length - 1); j <= maxJ; j++) {\n      var i = k - j\n      var a = num1.words[i]\n      var b = num2.words[j]\n      var r = a * b + rword\n      ncarry += (r / 0x04000000) | 0\n      rword = r & 0x03ffffff\n    }\n    out.words[k] = rword\n    carry = ncarry\n  }\n\n  if (carry !== 0) out.words[out.length++] = carry\n\n  return out.strip()\n}\n\nBN.umulTo10x10 = Math.imul ? optimized.umulTo10x10 : BN.umulTo\n\nBN.umulnTo = function (num, k, out) {\n  if (k === 0) {\n    out.words = [0]\n    out.length = 1\n    return out\n  }\n\n  for (var i = 0, carry = 0; i < num.length; ++i) {\n    var r = num.words[i] * k + carry\n    out.words[i] = r & 0x03ffffff\n    carry = (r / 0x04000000) | 0\n  }\n\n  if (carry > 0) {\n    out.words[i] = carry\n    out.length = num.length + 1\n  } else {\n    out.length = num.length\n  }\n\n  return out\n}\n\nBN.prototype.umul = function (num) {\n  var out = new BN()\n  out.words = new Array(this.length + num.length)\n\n  if (this.length === 10 && num.length === 10) {\n    return BN.umulTo10x10(this, num, out)\n  } else if (this.length === 1) {\n    return BN.umulnTo(num, this.words[0], out)\n  } else if (num.length === 1) {\n    return BN.umulnTo(this, num.words[0], out)\n  } else {\n    return BN.umulTo(this, num, out)\n  }\n}\n\nBN.prototype.isplit = function (output) {\n  output.length = Math.min(this.length, 9)\n  for (var i = 0; i < output.length; ++i) output.words[i] = this.words[i]\n\n  if (this.length <= 9) {\n    this.words[0] = 0\n    this.length = 1\n    return this\n  }\n\n  // Shift by 9 limbs\n  var prev = this.words[9]\n  output.words[output.length++] = prev & 0x003fffff\n\n  for (i = 10; i < this.length; ++i) {\n    var word = this.words[i]\n    this.words[i - 10] = ((word & 0x003fffff) << 4) | (prev >>> 22)\n    prev = word\n  }\n  prev >>>= 22\n  this.words[i - 10] = prev\n\n  if (prev === 0 && this.length > 10) {\n    this.length -= 10\n  } else {\n    this.length -= 9\n  }\n\n  return this\n}\n\nBN.prototype.fireduce = function () {\n  if (this.isOverflow()) this.isub(BN.n)\n  return this\n}\n\nBN.prototype.ureduce = function () {\n  var num = this.clone().isplit(BN.tmp).umul(BN.nc).iadd(BN.tmp)\n  if (num.bitLengthGT256()) {\n    num = num.isplit(BN.tmp).umul(BN.nc).iadd(BN.tmp)\n    if (num.bitLengthGT256()) num = num.isplit(BN.tmp).umul(BN.nc).iadd(BN.tmp)\n  }\n\n  return num.fireduce()\n}\n\nBN.prototype.ishrn = function (n) {\n  var mask = (1 << n) - 1\n  var m = 26 - n\n\n  for (var i = this.length - 1, carry = 0; i >= 0; --i) {\n    var word = this.words[i]\n    this.words[i] = (carry << m) | (word >>> n)\n    carry = word & mask\n  }\n\n  if (this.length > 1 && this.words[this.length - 1] === 0) this.length -= 1\n\n  return this\n}\n\nBN.prototype.uinvm = function () {\n  var x = this.clone()\n  var y = BN.n.clone()\n\n  // A * x + B * y = x\n  var A = BN.fromNumber(1)\n  var B = BN.fromNumber(0)\n\n  // C * x + D * y = y\n  var C = BN.fromNumber(0)\n  var D = BN.fromNumber(1)\n\n  while (x.isEven() && y.isEven()) {\n    for (var k = 1, m = 1; (x.words[0] & m) === 0 && (y.words[0] & m) === 0 && k < 26; ++k, m <<= 1);\n    x.ishrn(k)\n    y.ishrn(k)\n  }\n\n  var yp = y.clone()\n  var xp = x.clone()\n\n  while (!x.isZero()) {\n    for (var i = 0, im = 1; (x.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n    if (i > 0) {\n      x.ishrn(i)\n      while (i-- > 0) {\n        if (A.isOdd() || B.isOdd()) {\n          A.iadd(yp)\n          B.isub(xp)\n        }\n\n        A.ishrn(1)\n        B.ishrn(1)\n      }\n    }\n\n    for (var j = 0, jm = 1; (y.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n    if (j > 0) {\n      y.ishrn(j)\n      while (j-- > 0) {\n        if (C.isOdd() || D.isOdd()) {\n          C.iadd(yp)\n          D.isub(xp)\n        }\n\n        C.ishrn(1)\n        D.ishrn(1)\n      }\n    }\n\n    if (x.ucmp(y) >= 0) {\n      x.isub(y)\n      A.isub(C)\n      B.isub(D)\n    } else {\n      y.isub(x)\n      C.isub(A)\n      D.isub(B)\n    }\n  }\n\n  if (C.negative === 1) {\n    C.negative = 0\n    var result = C.ureduce()\n    result.negative ^= 1\n    return result.normSign().iadd(BN.n)\n  } else {\n    return C.ureduce()\n  }\n}\n\nBN.prototype.imulK = function () {\n  this.words[this.length] = 0\n  this.words[this.length + 1] = 0\n  this.length += 2\n\n  for (var i = 0, lo = 0; i < this.length; ++i) {\n    var w = this.words[i] | 0\n    lo += w * 0x3d1\n    this.words[i] = lo & 0x03ffffff\n    lo = w * 0x40 + ((lo / 0x04000000) | 0)\n  }\n\n  if (this.words[this.length - 1] === 0) {\n    this.length -= 1\n    if (this.words[this.length - 1] === 0) this.length -= 1\n  }\n\n  return this\n}\n\nBN.prototype.redIReduce = function () {\n  this.isplit(BN.tmp).imulK().iadd(BN.tmp)\n  if (this.bitLengthGT256()) this.isplit(BN.tmp).imulK().iadd(BN.tmp)\n\n  var cmp = this.ucmp(BN.p)\n  if (cmp === 0) {\n    this.words[0] = 0\n    this.length = 1\n  } else if (cmp > 0) {\n    this.isub(BN.p)\n  } else {\n    this.strip()\n  }\n\n  return this\n}\n\nBN.prototype.redNeg = function () {\n  if (this.isZero()) return BN.fromNumber(0)\n\n  return BN.p.sub(this)\n}\n\nBN.prototype.redAdd = function (num) {\n  return this.clone().redIAdd(num)\n}\n\nBN.prototype.redIAdd = function (num) {\n  this.iadd(num)\n  if (this.ucmp(BN.p) >= 0) this.isub(BN.p)\n\n  return this\n}\n\nBN.prototype.redIAdd7 = function () {\n  this.iuaddn(7)\n  if (this.ucmp(BN.p) >= 0) this.isub(BN.p)\n\n  return this\n}\n\nBN.prototype.redSub = function (num) {\n  return this.clone().redISub(num)\n}\n\nBN.prototype.redISub = function (num) {\n  this.isub(num)\n  if (this.negative !== 0) this.iadd(BN.p)\n\n  return this\n}\n\nBN.prototype.redMul = function (num) {\n  return this.umul(num).redIReduce()\n}\n\nBN.prototype.redSqr = function () {\n  return this.umul(this).redIReduce()\n}\n\nBN.prototype.redSqrt = function () {\n  if (this.isZero()) return this.clone()\n\n  var wv2 = this.redSqr()\n  var wv4 = wv2.redSqr()\n  var wv12 = wv4.redSqr().redMul(wv4)\n  var wv14 = wv12.redMul(wv2)\n  var wv15 = wv14.redMul(this)\n\n  var out = wv15\n  for (var i = 0; i < 54; ++i) out = out.redSqr().redSqr().redSqr().redSqr().redMul(wv15)\n  out = out.redSqr().redSqr().redSqr().redSqr().redMul(wv14)\n  for (i = 0; i < 5; ++i) out = out.redSqr().redSqr().redSqr().redSqr().redMul(wv15)\n  out = out.redSqr().redSqr().redSqr().redSqr().redMul(wv12)\n  out = out.redSqr().redSqr().redSqr().redSqr().redSqr().redSqr().redMul(wv12)\n\n  if (out.redSqr().ucmp(this) === 0) {\n    return out\n  } else {\n    return null\n  }\n}\n\nBN.prototype.redInvm = function () {\n  var a = this.clone()\n  var b = BN.p.clone()\n\n  var x1 = BN.fromNumber(1)\n  var x2 = BN.fromNumber(0)\n\n  while (a.gtOne() && b.gtOne()) {\n    for (var i = 0, im = 1; (a.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n    if (i > 0) {\n      a.ishrn(i)\n      while (i-- > 0) {\n        if (x1.isOdd()) x1.iadd(BN.p)\n        x1.ishrn(1)\n      }\n    }\n\n    for (var j = 0, jm = 1; (b.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n    if (j > 0) {\n      b.ishrn(j)\n      while (j-- > 0) {\n        if (x2.isOdd()) x2.iadd(BN.p)\n        x2.ishrn(1)\n      }\n    }\n\n    if (a.ucmp(b) >= 0) {\n      a.isub(b)\n      x1.isub(x2)\n    } else {\n      b.isub(a)\n      x2.isub(x1)\n    }\n  }\n\n  var res\n  if (a.length === 1 && a.words[0] === 1) {\n    res = x1\n  } else {\n    res = x2\n  }\n\n  if (res.negative !== 0) res.iadd(BN.p)\n\n  if (res.negative !== 0) {\n    res.negative = 0\n    return res.redIReduce().redNeg()\n  } else {\n    return res.redIReduce()\n  }\n}\n\nBN.prototype.getNAF = function (w) {\n  var naf = []\n  var ws = 1 << (w + 1)\n  var wsm1 = ws - 1\n  var ws2 = ws >> 1\n\n  var k = this.clone()\n  while (!k.isZero()) {\n    for (var i = 0, m = 1; (k.words[0] & m) === 0 && i < 26; ++i, m <<= 1) naf.push(0)\n\n    if (i !== 0) {\n      k.ishrn(i)\n    } else {\n      var mod = k.words[0] & wsm1\n      if (mod >= ws2) {\n        naf.push(ws2 - mod)\n        k.iuaddn(mod - ws2).ishrn(1)\n      } else {\n        naf.push(mod)\n        k.words[0] -= mod\n        if (!k.isZero()) {\n          for (i = w - 1; i > 0; --i) naf.push(0)\n          k.ishrn(w)\n        }\n      }\n    }\n  }\n\n  return naf\n}\n\nBN.prototype.inspect = function () {\n  if (this.isZero()) return '0'\n\n  var buffer = this.toBuffer().toString('hex')\n  for (var i = 0; buffer[i] === '0'; ++i);\n  return buffer.slice(i)\n}\n\nBN.n = BN.fromBuffer(Buffer.from('FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141', 'hex'))\nBN.nh = BN.n.clone().ishrn(1)\nBN.nc = BN.fromBuffer(Buffer.from('000000000000000000000000000000014551231950B75FC4402DA1732FC9BEBF', 'hex'))\nBN.p = BN.fromBuffer(Buffer.from('FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F', 'hex'))\nBN.psn = BN.p.sub(BN.n)\nBN.tmp = new BN()\nBN.tmp.words = new Array(10)\n\n// WTF?! it speed-up benchmark on ~20%\n;(function () {\n  var x = BN.fromNumber(1)\n  x.words[3] = 0\n})()\n\nmodule.exports = BN\n"]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"'use strict';\n\nvar nacl = require('tweetnacl');\n\nvar nextTick = require('async/nextTick');\n\nexports.publicKeyLength = nacl.sign.publicKeyLength;\nexports.privateKeyLength = nacl.sign.secretKeyLength;\n\nexports.generateKey = function (callback) {\n  nextTick(function () {\n    var result;\n\n    try {\n      result = nacl.sign.keyPair();\n    } catch (err) {\n      return callback(err);\n    }\n\n    callback(null, result);\n  });\n}; // seed should be a 32 byte uint8array\n\n\nexports.generateKeyFromSeed = function (seed, callback) {\n  nextTick(function () {\n    var result;\n\n    try {\n      result = nacl.sign.keyPair.fromSeed(seed);\n    } catch (err) {\n      return callback(err);\n    }\n\n    callback(null, result);\n  });\n};\n\nexports.hashAndSign = function (key, msg, callback) {\n  nextTick(function () {\n    callback(null, Buffer.from(nacl.sign.detached(msg, key)));\n  });\n};\n\nexports.hashAndVerify = function (key, sig, msg, callback) {\n  nextTick(function () {\n    var result;\n\n    try {\n      result = nacl.sign.detached.verify(msg, sig, key);\n    } catch (err) {\n      return callback(err);\n    }\n\n    callback(null, result);\n  });\n};","map":{"version":3,"sources":["C:/Users/anshm/blockdrive/node_modules/libp2p-crypto/src/keys/ed25519.js"],"names":["nacl","require","nextTick","exports","publicKeyLength","sign","privateKeyLength","secretKeyLength","generateKey","callback","result","keyPair","err","generateKeyFromSeed","seed","fromSeed","hashAndSign","key","msg","Buffer","from","detached","hashAndVerify","sig","verify"],"mappings":"AAAA;;AAEA,IAAMA,IAAI,GAAGC,OAAO,CAAC,WAAD,CAApB;;AACA,IAAMC,QAAQ,GAAGD,OAAO,CAAC,gBAAD,CAAxB;;AAEAE,OAAO,CAACC,eAAR,GAA0BJ,IAAI,CAACK,IAAL,CAAUD,eAApC;AACAD,OAAO,CAACG,gBAAR,GAA2BN,IAAI,CAACK,IAAL,CAAUE,eAArC;;AAEAJ,OAAO,CAACK,WAAR,GAAsB,UAAUC,QAAV,EAAoB;AACxCP,EAAAA,QAAQ,CAAC,YAAM;AACb,QAAIQ,MAAJ;;AACA,QAAI;AACFA,MAAAA,MAAM,GAAGV,IAAI,CAACK,IAAL,CAAUM,OAAV,EAAT;AACD,KAFD,CAEE,OAAOC,GAAP,EAAY;AACZ,aAAOH,QAAQ,CAACG,GAAD,CAAf;AACD;;AACDH,IAAAA,QAAQ,CAAC,IAAD,EAAOC,MAAP,CAAR;AACD,GARO,CAAR;AASD,CAVD,C,CAYA;;;AACAP,OAAO,CAACU,mBAAR,GAA8B,UAAUC,IAAV,EAAgBL,QAAhB,EAA0B;AACtDP,EAAAA,QAAQ,CAAC,YAAM;AACb,QAAIQ,MAAJ;;AACA,QAAI;AACFA,MAAAA,MAAM,GAAGV,IAAI,CAACK,IAAL,CAAUM,OAAV,CAAkBI,QAAlB,CAA2BD,IAA3B,CAAT;AACD,KAFD,CAEE,OAAOF,GAAP,EAAY;AACZ,aAAOH,QAAQ,CAACG,GAAD,CAAf;AACD;;AACDH,IAAAA,QAAQ,CAAC,IAAD,EAAOC,MAAP,CAAR;AACD,GARO,CAAR;AASD,CAVD;;AAYAP,OAAO,CAACa,WAAR,GAAsB,UAAUC,GAAV,EAAeC,GAAf,EAAoBT,QAApB,EAA8B;AAClDP,EAAAA,QAAQ,CAAC,YAAM;AACbO,IAAAA,QAAQ,CAAC,IAAD,EAAOU,MAAM,CAACC,IAAP,CAAYpB,IAAI,CAACK,IAAL,CAAUgB,QAAV,CAAmBH,GAAnB,EAAwBD,GAAxB,CAAZ,CAAP,CAAR;AACD,GAFO,CAAR;AAGD,CAJD;;AAMAd,OAAO,CAACmB,aAAR,GAAwB,UAAUL,GAAV,EAAeM,GAAf,EAAoBL,GAApB,EAAyBT,QAAzB,EAAmC;AACzDP,EAAAA,QAAQ,CAAC,YAAM;AACb,QAAIQ,MAAJ;;AACA,QAAI;AACFA,MAAAA,MAAM,GAAGV,IAAI,CAACK,IAAL,CAAUgB,QAAV,CAAmBG,MAAnB,CAA0BN,GAA1B,EAA+BK,GAA/B,EAAoCN,GAApC,CAAT;AACD,KAFD,CAEE,OAAOL,GAAP,EAAY;AACZ,aAAOH,QAAQ,CAACG,GAAD,CAAf;AACD;;AAEDH,IAAAA,QAAQ,CAAC,IAAD,EAAOC,MAAP,CAAR;AACD,GATO,CAAR;AAUD,CAXD","sourcesContent":["'use strict'\n\nconst nacl = require('tweetnacl')\nconst nextTick = require('async/nextTick')\n\nexports.publicKeyLength = nacl.sign.publicKeyLength\nexports.privateKeyLength = nacl.sign.secretKeyLength\n\nexports.generateKey = function (callback) {\n  nextTick(() => {\n    let result\n    try {\n      result = nacl.sign.keyPair()\n    } catch (err) {\n      return callback(err)\n    }\n    callback(null, result)\n  })\n}\n\n// seed should be a 32 byte uint8array\nexports.generateKeyFromSeed = function (seed, callback) {\n  nextTick(() => {\n    let result\n    try {\n      result = nacl.sign.keyPair.fromSeed(seed)\n    } catch (err) {\n      return callback(err)\n    }\n    callback(null, result)\n  })\n}\n\nexports.hashAndSign = function (key, msg, callback) {\n  nextTick(() => {\n    callback(null, Buffer.from(nacl.sign.detached(msg, key)))\n  })\n}\n\nexports.hashAndVerify = function (key, sig, msg, callback) {\n  nextTick(() => {\n    let result\n    try {\n      result = nacl.sign.detached.verify(msg, sig, key)\n    } catch (err) {\n      return callback(err)\n    }\n\n    callback(null, result)\n  })\n}\n"]},"metadata":{},"sourceType":"script"}
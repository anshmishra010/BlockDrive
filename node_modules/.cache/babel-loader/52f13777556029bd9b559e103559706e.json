{"ast":null,"code":"'use strict';\n\nvar _regeneratorRuntime = require(\"C:\\\\Users\\\\anshm\\\\blockdrive\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"C:\\\\Users\\\\anshm\\\\blockdrive\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/asyncToGenerator\");\n\nvar DAGLink = require('./../dag-link');\n\nvar _require = require('../util'),\n    cid = _require.cid,\n    serialize = _require.serialize;\n\nexports = module.exports;\n\nfunction cloneData(dagNode) {\n  var data;\n\n  if (dagNode.Data && dagNode.Data.length > 0) {\n    data = Buffer.alloc(dagNode.Data.length);\n    dagNode.Data.copy(data);\n  } else {\n    data = Buffer.alloc(0);\n  }\n\n  return data;\n}\n\nfunction cloneLinks(dagNode) {\n  return dagNode.Links.slice();\n}\n\nfunction linkSort(a, b) {\n  return Buffer.compare(a.nameAsBuffer, b.nameAsBuffer);\n}\n/*\n * toDAGLink converts a DAGNode to a DAGLink\n */\n\n\nvar toDAGLink = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(node) {\n    var options,\n        serialized,\n        nodeCid,\n        _args = arguments;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            options = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n            serialized = serialize(node);\n            _context.next = 4;\n            return cid(serialized);\n\n          case 4:\n            nodeCid = _context.sent;\n            return _context.abrupt(\"return\", new DAGLink(options.name || '', serialized.length, nodeCid));\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function toDAGLink(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexports.cloneData = cloneData;\nexports.cloneLinks = cloneLinks;\nexports.linkSort = linkSort;\nexports.toDAGLink = toDAGLink;","map":{"version":3,"sources":["C:/Users/anshm/blockdrive/node_modules/ipld-dag-pb/src/dag-node/util.js"],"names":["DAGLink","require","cid","serialize","exports","module","cloneData","dagNode","data","Data","length","Buffer","alloc","copy","cloneLinks","Links","slice","linkSort","a","b","compare","nameAsBuffer","toDAGLink","node","options","serialized","nodeCid","name"],"mappings":"AAAA;;;;;;AAEA,IAAMA,OAAO,GAAGC,OAAO,CAAC,eAAD,CAAvB;;eAIIA,OAAO,CAAC,SAAD,C;IAFTC,G,YAAAA,G;IACAC,S,YAAAA,S;;AAGFC,OAAO,GAAGC,MAAM,CAACD,OAAjB;;AAEA,SAASE,SAAT,CAAoBC,OAApB,EAA6B;AAC3B,MAAIC,IAAJ;;AAEA,MAAID,OAAO,CAACE,IAAR,IAAgBF,OAAO,CAACE,IAAR,CAAaC,MAAb,GAAsB,CAA1C,EAA6C;AAC3CF,IAAAA,IAAI,GAAGG,MAAM,CAACC,KAAP,CAAaL,OAAO,CAACE,IAAR,CAAaC,MAA1B,CAAP;AACAH,IAAAA,OAAO,CAACE,IAAR,CAAaI,IAAb,CAAkBL,IAAlB;AACD,GAHD,MAGO;AACLA,IAAAA,IAAI,GAAGG,MAAM,CAACC,KAAP,CAAa,CAAb,CAAP;AACD;;AAED,SAAOJ,IAAP;AACD;;AAED,SAASM,UAAT,CAAqBP,OAArB,EAA8B;AAC5B,SAAOA,OAAO,CAACQ,KAAR,CAAcC,KAAd,EAAP;AACD;;AAED,SAASC,QAAT,CAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AACvB,SAAOR,MAAM,CAACS,OAAP,CAAeF,CAAC,CAACG,YAAjB,EAA+BF,CAAC,CAACE,YAAjC,CAAP;AACD;AAED;AACA;AACA;;;AACA,IAAMC,SAAS;AAAA,sEAAG,iBAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAaC,YAAAA,OAAb,2DAAuB,EAAvB;AACVC,YAAAA,UADU,GACGtB,SAAS,CAACoB,IAAD,CADZ;AAAA;AAAA,mBAEMrB,GAAG,CAACuB,UAAD,CAFT;;AAAA;AAEVC,YAAAA,OAFU;AAAA,6CAGT,IAAI1B,OAAJ,CAAYwB,OAAO,CAACG,IAAR,IAAgB,EAA5B,EAAgCF,UAAU,CAACf,MAA3C,EAAmDgB,OAAnD,CAHS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAATJ,SAAS;AAAA;AAAA;AAAA,GAAf;;AAMAlB,OAAO,CAACE,SAAR,GAAoBA,SAApB;AACAF,OAAO,CAACU,UAAR,GAAqBA,UAArB;AACAV,OAAO,CAACa,QAAR,GAAmBA,QAAnB;AACAb,OAAO,CAACkB,SAAR,GAAoBA,SAApB","sourcesContent":["'use strict'\n\nconst DAGLink = require('./../dag-link')\nconst {\n  cid,\n  serialize\n} = require('../util')\n\nexports = module.exports\n\nfunction cloneData (dagNode) {\n  let data\n\n  if (dagNode.Data && dagNode.Data.length > 0) {\n    data = Buffer.alloc(dagNode.Data.length)\n    dagNode.Data.copy(data)\n  } else {\n    data = Buffer.alloc(0)\n  }\n\n  return data\n}\n\nfunction cloneLinks (dagNode) {\n  return dagNode.Links.slice()\n}\n\nfunction linkSort (a, b) {\n  return Buffer.compare(a.nameAsBuffer, b.nameAsBuffer)\n}\n\n/*\n * toDAGLink converts a DAGNode to a DAGLink\n */\nconst toDAGLink = async (node, options = {}) => {\n  const serialized = serialize(node)\n  const nodeCid = await cid(serialized)\n  return new DAGLink(options.name || '', serialized.length, nodeCid)\n}\n\nexports.cloneData = cloneData\nexports.cloneLinks = cloneLinks\nexports.linkSort = linkSort\nexports.toDAGLink = toDAGLink\n"]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"'use strict';\n\nvar tester = require('../util/tester');\n\nmodule.exports = function filter(test) {\n  //regexp\n  test = tester(test);\n  return function (read) {\n    return function next(end, cb) {\n      var sync,\n          loop = true;\n\n      while (loop) {\n        loop = false;\n        sync = true;\n        read(end, function (end, data) {\n          if (!end && !test(data)) return sync ? loop = true : next(end, cb);\n          cb(end, data);\n        });\n        sync = false;\n      }\n    };\n  };\n};","map":{"version":3,"sources":["C:/Users/anshm/blockdrive/node_modules/pull-stream/throughs/filter.js"],"names":["tester","require","module","exports","filter","test","read","next","end","cb","sync","loop","data"],"mappings":"AAAA;;AAEA,IAAIA,MAAM,GAAGC,OAAO,CAAC,gBAAD,CAApB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,SAASC,MAAT,CAAiBC,IAAjB,EAAuB;AACtC;AACAA,EAAAA,IAAI,GAAGL,MAAM,CAACK,IAAD,CAAb;AACA,SAAO,UAAUC,IAAV,EAAgB;AACrB,WAAO,SAASC,IAAT,CAAeC,GAAf,EAAoBC,EAApB,EAAwB;AAC7B,UAAIC,IAAJ;AAAA,UAAUC,IAAI,GAAG,IAAjB;;AACA,aAAMA,IAAN,EAAY;AACVA,QAAAA,IAAI,GAAG,KAAP;AACAD,QAAAA,IAAI,GAAG,IAAP;AACAJ,QAAAA,IAAI,CAACE,GAAD,EAAM,UAAUA,GAAV,EAAeI,IAAf,EAAqB;AAC7B,cAAG,CAACJ,GAAD,IAAQ,CAACH,IAAI,CAACO,IAAD,CAAhB,EACE,OAAOF,IAAI,GAAGC,IAAI,GAAG,IAAV,GAAiBJ,IAAI,CAACC,GAAD,EAAMC,EAAN,CAAhC;AACFA,UAAAA,EAAE,CAACD,GAAD,EAAMI,IAAN,CAAF;AACD,SAJG,CAAJ;AAKAF,QAAAA,IAAI,GAAG,KAAP;AACD;AACF,KAZD;AAaD,GAdD;AAeD,CAlBD","sourcesContent":["'use strict'\n\nvar tester = require('../util/tester')\n\nmodule.exports = function filter (test) {\n  //regexp\n  test = tester(test)\n  return function (read) {\n    return function next (end, cb) {\n      var sync, loop = true\n      while(loop) {\n        loop = false\n        sync = true\n        read(end, function (end, data) {\n          if(!end && !test(data))\n            return sync ? loop = true : next(end, cb)\n          cb(end, data)\n        })\n        sync = false\n      }\n    }\n  }\n}\n\n"]},"metadata":{},"sourceType":"script"}